# 图像处理第二次作业

* 灰度分段线性变换

  * 代码

    ```matlab
    b=imread( 'logo.jpg' );
    
    f0=0;g0=0;
    f1=50;g1=10;
    f2=100;g2=200;
    f3=255;g3=255;
    
    figure,plot([f0,f1,f2,f3],[g0,g1,g2,g3]);
    
    r1=(g1-g0)/(f1-f0);
    b1=-r1*f0+g0;
    
    r2=(g2-g1)/(f2-f1);
    b2=-r2*f1+g1;
    
    r3=(g3-g2)/(f3-f2);
    b3=-r3*f2+g2;
    
    axis([0 255 0 255]);
    [m,n]=size(b);
    h=double(b);
    g = zeros(m,n);
    figure,imshow(mat2gray(h));
    
    for i=1:m
      for j=1:n
        t=h(i,j);
        if ((t>=f0)&&(t<=f1))
            g(i,j)=r1*t+b1;
        else
            if ((t>=f1)&&(t<=f2))
                g(i,j)=r2*t+b2;
            else
            if ((t>=f2)&&(t<=f3))
                g(i,j)=r3*t+b3;
            end
            end
        end
      end
    end
    figure,imshow(mat2gray(g));
    
    ```
	  
	* 运行结果
	
	  ![pic1](C:\Users\Chenhui\Documents\数字图像处理\作业2\pic1.jpg)



* 灰度指数变换

  * 代码

    ```matlab
    I=imread( 'logo.jpg' );
    imshow(I);
    Image= 1.5.^(double(I)*0.050)-1;
    figure(2),imshow(Image,[]);
    ```

  * 运行结果

    ![pic2](C:\Users\Chenhui\Documents\数字图像处理\作业2\pic2.jpg)



* 灰度对数变换

  * 代码

    ```matlab
    I=imread( 'logo.jpg' );
    imshow(I);
    Image=log(1+double(I));
    figure(2),imshow(Image,[]);
    ```

  * 运行结果

    ![pic3](C:\Users\Chenhui\Documents\数字图像处理\作业2\pic3.jpg)



* 直方图均衡化

  * 代码

    ```matlab
    img=imread('lena.jpg');
    imshow(img);
    title('均衡化前图像');
    
    [m,n]=size(img);
    GL=zeros(1,256); 
    GLPeq = zeros(1,256);
    
    for k=0:255
        GL(k+1)=length(find(img==k))/(m*n);
    end
    
    figure,bar(0:255,GL,'g') 
    title('原图像直方图')
    xlabel('灰度值')
    ylabel('出现概率')
    
    S1=zeros(1,256); 
    for i=1:256
        for j=1:i
            S1(i)=GL(j)+S1(i); 
        end
    end
    S2=round((S1*256)+0.5); 
    for i=1:256
        GLPeq(i)=sum(GL(S2==i)); 
    end
    figure,bar(0:255,GLPeq,'b') 
    title('均衡化后的直方图')
    xlabel('灰度值')
    ylabel('出现概率')
    
    
    img1=img;
    for i=0:255
        img1(img==i)=S2(i+1);
    end
    figure,imshow(img1)
    title('均衡化后图像')
    ```

  * 运行结果

    ![pic4](C:\Users\Chenhui\Documents\数字图像处理\作业2\pic4.jpg)

